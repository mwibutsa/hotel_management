(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,function(e,a,t){e.exports={Room:"Room_Room__2m1c4",RoomHeading:"Room_RoomHeading__e3ujg",RoomContentContainer:"Room_RoomContentContainer__2z-pj",RoomContent:"Room_RoomContent__1-hMM",AttributeContainer:"Room_AttributeContainer__2Lf6m",AttributeRow:"Room_AttributeRow__3frsp",AttributeValue:"Room_AttributeValue__2fSDD",BookingStatus:"Room_BookingStatus__1HarH",RoomText:"Room_RoomText__2ueMu"}},function(e,a,t){e.exports={TextCenter:"common_TextCenter__t6buO",TextWhite:"common_TextWhite__2LLRG",TextYellow:"common_TextYellow__3-79b",PageHeading:"common_PageHeading__1eE9B",Heading:"common_Heading__3YaOm",ButtonContainer:"common_ButtonContainer__2F5ol",SpinnerContainer:"common_SpinnerContainer__2QV7v",Spinner:"common_Spinner__dlUa0","lds-ripple":"common_lds-ripple__1i-JT",ButtonSpinner:"common_ButtonSpinner__3EVWr",ModalContainer:"common_ModalContainer__2sSWS",Modal:"common_Modal__1tLwE","modal-animation":"common_modal-animation__1VRxt",BarSpinner:"common_BarSpinner__3r5_e","bar-spinner":"common_bar-spinner__Hasa5"}},,,,,,,,,function(e,a,t){e.exports={SideNavigation:"SideNavigation_SideNavigation__1JkZi",SideNavHeader:"SideNavigation_SideNavHeader__3hKhJ",SideNavMenu:"SideNavigation_SideNavMenu__Zs2qb",NavLink:"SideNavigation_NavLink__3Y7As",ActiveNavLink:"SideNavigation_ActiveNavLink__2-AHj"}},,,function(e,a,t){e.exports={HomePage:"HomePage_HomePage__1HCIl",WelcomeSection:"HomePage_WelcomeSection__uDbhO",WelcomeHeading:"HomePage_WelcomeHeading__1Ji7t",ContentContainer:"HomePage_ContentContainer__20Xa1",IntroContainer:"HomePage_IntroContainer__2uqak",SwimmingPoolSection:"HomePage_SwimmingPoolSection__2Gv_g",GymSection:"HomePage_GymSection__1-kPV",RoomSection:"HomePage_RoomSection__gfSPw",AccessibilitySection:"HomePage_AccessibilitySection__3zExY",RoomHeading:"HomePage_RoomHeading__2IT19"}},,function(e,a,t){e.exports={StaffMember:"StaffMember_StaffMember__3U2Tn",Content:"StaffMember_Content__2z-QF",CardNormal:"StaffMember_CardNormal__2pUQ6",CardInactive:"StaffMember_CardInactive__3tacz",StaffAvatar:"StaffMember_StaffAvatar__2lY2R",Permission:"StaffMember_Permission__24xpL",PermissionGroup:"StaffMember_PermissionGroup__1xv5N",PermissionHeading:"StaffMember_PermissionHeading__3beta",AccountInfo:"StaffMember_AccountInfo__udzrP",Inactive:"StaffMember_Inactive__29zKY"}},function(e,a,t){e.exports={Button:"Button_Button__ZGUvj",YellowButton:"Button_YellowButton__35EYP",GreenButton:"Button_GreenButton__l6RVa",RedButton:"Button_RedButton__34RQH",LinkButton:"Button_LinkButton__1u7Cd",DeleteButton:"Button_DeleteButton__peqtY",CardButton:"Button_CardButton__1937T"}},function(e,a,t){e.exports={RoomCategoryCard:"RoomCategoryCard_RoomCategoryCard__UqWmi",Header:"RoomCategoryCard_Header__1RXj5",HeaderSingle:"RoomCategoryCard_HeaderSingle__R3FDy",HeaderGold:"RoomCategoryCard_HeaderGold__1cPW9",RoomDescription:"RoomCategoryCard_RoomDescription__2fSsB",Description:"RoomCategoryCard_Description__qTm7N",Price:"RoomCategoryCard_Price__28bCR",RoomImage:"RoomCategoryCard_RoomImage__1H-bK",RoomImageContainer:"RoomCategoryCard_RoomImageContainer__3i0QG"}},,,,,,function(e,a,t){e.exports={CategoryPage:"CategoryPage_CategoryPage__Mjmwv",CategoryCard:"CategoryPage_CategoryCard__IkDxy",CardHeader:"CategoryPage_CardHeader__5b9om",CategoryName:"CategoryPage_CategoryName__2dGTm",RoomCount:"CategoryPage_RoomCount__2g_2V",RoomTitle:"CategoryPage_RoomTitle__1SmC7",RoomDetails:"CategoryPage_RoomDetails__1Lb6I",TextCenter:"CategoryPage_TextCenter__2fedC",CategoryForm:"CategoryPage_CategoryForm__1U2PM"}},,function(e,a,t){e.exports={HotelClient:"HotelClientPage_HotelClient__38Hz6",Checkbox:"HotelClientPage_Checkbox__5agkP",CheckboxLabel:"HotelClientPage_CheckboxLabel__3a8rY",BillForm:"HotelClientPage_BillForm__3Bzd8",ButtonContainer:"HotelClientPage_ButtonContainer__1fKsb",PrintButtonContainer:"HotelClientPage_PrintButtonContainer__2Pjyc"}},function(e,a,t){e.exports={BookingPage:"BookingPage_BookingPage__1OrfT",SuccessContainer:"BookingPage_SuccessContainer__3QpUI",h3:"BookingPage_h3__1-2a3",AdditionalMessage:"BookingPage_AdditionalMessage__2qjSj",Form:"BookingPage_Form__nhoZu",RoomLoader:"BookingPage_RoomLoader__25dwK"}},,,function(e,a,t){e.exports={ModalContainer:"Modal_ModalContainer__2Hkel",Modal:"Modal_Modal__2HHqW","modal-animation":"Modal_modal-animation__2Nl9V",CloseButtonContainer:"Modal_CloseButtonContainer__26mQj",CloseButton:"Modal_CloseButton__1_BQG",ModalTitle:"Modal_ModalTitle__j6iGS"}},function(e,a,t){e.exports={Logo:"Navigation_Logo__3tWuo",LogoLabel:"Navigation_LogoLabel__t0cWh",FixedNavigation:"Navigation_FixedNavigation__34UuJ",ClearNavigation:"Navigation_ClearNavigation__2UqWW",NavigationContainer:"Navigation_NavigationContainer__1aYyj"}},function(e,a,t){e.exports={UserPermissions:"ManageStaff_UserPermissions__1b7gc",Checkbox:"ManageStaff_Checkbox__241rf",CheckboxLabel:"ManageStaff_CheckboxLabel__247mY"}},function(e,a,t){e.exports={CardContainer:"Card_CardContainer__1VQpA",CardContent:"Card_CardContent__2WOpy",ButtonContainer:"Card_ButtonContainer__3lkw9",CardTitle:"Card_CardTitle__3lCa_",CardHeader:"Card_CardHeader__3EuHO"}},,,,,,,function(e,a,t){e.exports={RoomsPage:"Rooms_RoomsPage__1cLLO",RoomPageMargin:"Rooms_RoomPageMargin__osDfb",RoomPageHeading:"Rooms_RoomPageHeading__l4qy0",RoomsContainer:"Rooms_RoomsContainer__3MOuN"}},function(e,a,t){e.exports={PageContainer:"DashboardContainer_PageContainer__1RM41",MainPage:"DashboardContainer_MainPage__1QOfL",SideNavigation:"DashboardContainer_SideNavigation__3kcTb",ContentContainer:"DashboardContainer_ContentContainer__2RqlM"}},function(e,a,t){e.exports={Footer:"Footer_Footer__1n4gD",FooterLogo:"Footer_FooterLogo__Wqm-Z",TextCenter:"Footer_TextCenter__2ebFW",BottomFooter:"Footer_BottomFooter__3D-68"}},,,,,function(e,a,t){e.exports=t.p+"static/media/Logo.5edb673a.svg"},,,,,,,,function(e,a,t){e.exports={AttributeLabel:"AttributeRow_AttributeLabel__NqW0d",AttributeRow:"AttributeRow_AttributeRow__1Uj3L",AttributeValue:"AttributeRow_AttributeValue__29Aa3"}},function(e,a,t){e.exports={Table:"Table_Table__1dSGj",Caption:"Table_Caption__S9aOO"}},function(e,a,t){e.exports={Tr:"TableRow_Tr__DUWf7",Td:"TableRow_Td__6D-rH",Th:"TableRow_Th__2uF2q"}},function(e,a,t){e.exports={LoginPage:"LoginPage_LoginPage__Ij6UN",PageMargin:"LoginPage_PageMargin__2hUrv"}},,,,,,,function(e,a,t){e.exports={Message:"ConfirmationModal_Message__274-o",ButtonGroup:"ConfirmationModal_ButtonGroup__3trdW"}},function(e,a,t){e.exports={PageContainer:"PageContainer_PageContainer__3nm-U",MainContainer:"PageContainer_MainContainer__1n9L5"}},,,,,,,,,,,,,,,function(e,a,t){e.exports={TextInput:"TextInput_TextInput__B2r0X",TextInputError:"TextInput_TextInputError__1ua_A"}},function(e,a,t){e.exports={SelectInput:"SelectInput_SelectInput__1eCbQ"}},,,,,,function(e,a,t){e.exports={BookingListPage:"BookingList_BookingListPage__A03LE",BookingContainer:"BookingList_BookingContainer__2Ahn3"}},,function(e,a,t){e.exports=t.p+"static/media/gym.b2bc6e16.png"},function(e,a,t){e.exports=t.p+"static/media/swimmingpool.f0d8f9c4.png"},function(e,a,t){e.exports=t.p+"static/media/bed-bedroom-furniture-headboard-279746 (1).1e0710e3.jpg"},function(e,a,t){e.exports=t.p+"static/media/black-and-grey-bedspread-on-bed-and-pillow-164595 (1).e7981a2f.jpg"},function(e,a,t){e.exports=t.p+"static/media/white-bed-sheet-set-2736388.486e7158.jpg"},,function(e,a,t){e.exports=t(140)},,,,,function(e,a,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(25),c=t.n(o),l=(t(107),t(16)),i=t(10),s=t(31),u=t(83),m=t(85),d=t(1),E=t(45),p=function(e){return(e=e.split(/(?=[A-Z])/).join("_")).toLowerCase()},_=function(e,a){var t=Object(E.a)(e),n=t.findIndex((function(e){return e.id===a.id}));return-1!==n&&(t[n]=Object(d.a)(Object(d.a)({},t[n]),a)),t},f=function(e){var a=(e=e.split("_"))[0],t=e.slice(1).map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)}));return[a].concat(t).join("")},g=function(e,a){var t=Object(E.a)(e),n=t.findIndex((function(e){return e.id===a}));return-1!==n&&t.splice(n,1),t},b={bookings:[],bookingData:null,loading:!1,error:null},v={accessToken:null,loading:!1,error:null,refreshToken:null},O={rooms:[],loading:!1,error:null},C={staffMembers:[],loading:!1,error:null,message:""},h={roomCategories:[],loading:!1,error:null},N={loading:!1,hotelClients:[],error:null},j={loading:!1,expenses:[],errors:null},y=[m.a],T=Object(s.combineReducers)({booking:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"CREATE_BOOKIGN_BEGIN":return Object(d.a)(Object(d.a)({},e),{},{error:null,loading:!0});case"CREATE_BOOKING":return Object(d.a)(Object(d.a)({},e),{},{bookingData:Object(d.a)({},n.data),loading:!1});case"CREATE_BOOKING_FAILED":return Object(d.a)(Object(d.a)({},e),{},{error:n.error,loading:!1});case"START_LIST_BOOKINGS":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"FINISH_LIST_BOOKINGS":return Object(d.a)(Object(d.a)({},e),{},{bookings:n.bookings,loading:!1});case"LIST_BOOKINGS_FAIL":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:n});case"EDIT_BOOKING_BEGIN":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"EDIT_BOOKING":return Object(d.a)(Object(d.a)({},e),{},{bookings:_(e.bookings,n.data),loading:!1});case"EDIT_BOOKING_FAILED":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:n.error});case"DELETE_BOOKING_BEGIN":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"DELETE_BOOKIGN":return Object(d.a)(Object(d.a)({},e),{},{bookings:g(e.bookings,n.id),loading:!1});case"DELETE_BOOKING_FAILED":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:n.error});default:return e}},rooms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"BEGIN_FETCHING_ROOMS":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"FETCH_ROOMS":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,rooms:Object(E.a)(n)});case"EDIT_ROOM_START":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"EDIT_ROOM_DONE":return Object(d.a)(Object(d.a)({},e),{},{rooms:_(e.rooms,n.data),loading:!1});case"EDIT_ROOM_FAILED":return Object(d.a)(Object(d.a)({},e),{},{error:n.error,loading:!1});case"ADD_ROOM_START":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"ADD_ROOM_DONE":return Object(d.a)(Object(d.a)({},e),{},{rooms:e.rooms.concat(n.data),loading:!1,error:null});case"ADD_ROOM_FAILED":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:n.error});case"DELETE_ROOM_BEGIN":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"DELETE_ROOM":return Object(d.a)(Object(d.a)({},e),{},{rooms:g(e.rooms,n.id),loading:!1});case"DELETE_ROOM_FAILED":return Object(d.a)(Object(d.a)({},e),{},{error:n.error,loading:!1});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"START_LOGIN":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"FINISH_LOGIN":return Object(d.a)(Object(d.a)({},e),{},{accessToken:n.access,refreshToken:n.refresh,loading:!1});case"LOGIN_ERROR":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:n.error});case"START_AUTO_LOGIN":return Object(d.a)(Object(d.a)({},e),{},{loading:!1});case"FINISH_AUTO_LOGIN":return Object(d.a)(Object(d.a)({},e),{},{accessToken:n.access,refreshToken:n.refresh});case"AUTO_LOGIN_FAILED":return Object(d.a)(Object(d.a)({},e),{},{loading:!1});default:return e}},staff:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"START_STAFF_FETCHING":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"FINISH_STAFF_FETCHING":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,staffMembers:n.data});case"STAFF_FETCHIGN_FAILED":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:n.error});case"ADD_STAFF_MEMBER_BEGIN":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"ADD_STAFF_MEMBER":return Object(d.a)(Object(d.a)({},e),{},{staffMembers:e.staffMembers.concat(n.data),loading:!1});case"ADD_STAFF_MEMBER_FAILED":return Object(d.a)(Object(d.a)({},e),{},{error:n.error});case"EDIT_STAFF_MEMBER_BEGIN":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"EDIT_STAFF_MEMBER":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,staffMembers:_(e.staffMembers,n.data)});case"EDIT_STAFF_MEMBER_FAILED":return Object(d.a)(Object(d.a)({},e),{},{error:n.error,loading:!1});case"DEACTIVATE_STAFF_BEGIN":return Object(d.a)(Object(d.a)({},e),{},{message:"",loading:!0,error:null});case"DEACTIVATE_STAFF":return Object(d.a)(Object(d.a)({},e),{},{staffMembers:_(e.staffMembers,n.data.id),loading:!1,message:n.message});case"DEACTIVATE_STAFF_FAILED":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:n.error});default:return e}},roomCategory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"ADD_ROOM_CATEGORY_BEGIN":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"ADD_ROOM_CATEGORY":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,roomCategories:e.roomCategories.concat(n.data)});case"ADD_ROOM_CATEGORY_FAILED":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:n.error});case"FETCH_ROOM_CATEGORIES_BEGIN":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"FETCH_ROOM_CATEGORIES":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,roomCategories:n.data});case"FETCH_ROOM_CATEGORIES_FAILED":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:n.error});case"EDIT_ROOM_CATEGORY_BEGIN":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"EDIT_ROOM_CATEGORY":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,roomCategories:_(e.roomCategories,n.data)});case"EDIT_ROOM_CATEGORY_FAILED":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:n.error});case"DELETE_ROOM_CATEGORY_BEGIN":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"DELETE_ROOM_CATEGORY":return Object(d.a)(Object(d.a)({},e),{},{roomCategories:g(e.roomCategories,n.id),loading:!1});case"DELETE_ROOM_CATEGORY_FAILED":return Object(d.a)(Object(d.a)({},e),{},{error:n.error,loading:!1});default:return e}},clientExpenses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"FETCH_CLIENT_EXPENSES_BEGIN":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"FETCH_CLIENT_EXPENSES":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,expenses:n.data});case"FETCH_CLIENT_EXPENSES_FAILED":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:n.error});case"UPDATE_CLIENT_EXPENSE_BEGIN":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"UPDATE_CLIENT_EXPENSE":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,expenses:g(e.expenses,n.data.id)});case"UDPATE_CLIENT_EXPENSE_FAILED":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:n.error});case"ADD_CLIENT_EXPENSE_BEGIN":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"ADD_CLIENT_EXPENSE":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,expenses:e.expenses.concat(n.data)});case"ADD_CLIENT_EXPENSE_FAILED":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:n.error});case"DELETE_CLIENT_EXPENSE_BEGIN":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"DELETE_CLIENT_EXPENSE":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,expenses:g(e.expenses,n.id)});case"DELETE_CLIENT_EXPENSE_FAILED":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:n.error});default:return e}},hotelClient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"FETCH_HOTEL_CLIENTS_BEGIN":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"FETCH_HOTEL_CLIENTS":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,hotelClients:n.data});case"FETCH_HOTEL_CLIENTS_FAILED":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:n.error});case"UPDATE_HOTEL_CLIENT_BEGIN":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"UPDATE_HOTEL_CLIENT":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,hotelClients:_(e.hotelClients,n.data)});case"UPDATE_HOTEL_CLIENT_FAILED":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:n.error});case"DELETE_HOTEL_CLIENT_BEGIN":return Object(d.a)(Object(d.a)({},e),{},{loading:!0,error:null});case"DELETE_HOTEL_CLIENT":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,hotelClients:g(e.hotelClients,n.id)});case"DELE_HOTEL_CLIENT_FAILED":return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:null});default:return e}}}),k=Object(s.createStore)(T,Object(u.composeWithDevTools)(s.applyMiddleware.apply(void 0,y))),A=t(101),I=t(52),S=t.n(I),R=function(e){var a=e.component,t=Object(A.a)(e,["component"]),n=localStorage.getItem("accessToken"),o=(new Date).getTime()/1e3,c=null;return n&&(c=S()(n.replace("Bearer ",""))),r.a.createElement(i.b,Object.assign({},t,{render:function(e){return null!==n&&c.exp>o?r.a.createElement(a,e):r.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},x=t(2),D=t.n(x),L=t(4),w=t(5),B=t(15),M=t(17),F=t.n(M),G=function(e){return r.a.createElement("div",{className:F.a.SideNavigation},r.a.createElement("h3",{className:F.a.SideNavHeader}," Dashboard "),r.a.createElement("div",{className:F.a.SideNavMenu},r.a.createElement("div",{className:F.a.NavLink},r.a.createElement(l.c,{activeClassName:F.a.ActiveNavLink,to:"/dashboard/rooms/"},"Rooms")),r.a.createElement("div",{className:F.a.NavLink},r.a.createElement(l.c,{activeClassName:F.a.ActiveNavLink,to:"/dashboard/bookings"},"Booking")),r.a.createElement("div",{className:F.a.NavLink},r.a.createElement(l.c,{activeClassName:F.a.ActiveNavLink,to:"/dashboard/manage-staff"},"Manage staff")),r.a.createElement("div",{className:F.a.NavLink},r.a.createElement(l.c,{activeClassName:F.a.ActiveNavLink,to:"/dashboard/room-categories"},"Room categories")),r.a.createElement("div",{className:F.a.NavLink},r.a.createElement(l.c,{activeClassName:F.a.ActiveNavLink,to:"/dashboard/hotel-clients"},"Clients"))))},P=t(46),H=t.n(P),Y=t(7),U=t.n(Y),V=t(26),K=t.n(V),W=t(23),X=t.n(W),q=t(8),Q=t.n(q),$=function(e){return r.a.createElement("div",{className:Q.a.ButtonSpinner},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},z=function(e){return r.a.createElement(l.b,{to:e.path||"",className:[X.a.Button,X.a.LinkButton,X.a.YellowButton].join(" ")},e.label)},J=function(e){var a=[X.a.Button],t=e.red,n=e.green,o=t?X.a.RedButton:n?X.a.GreenButton:X.a.YellowButton;a.push(o);var c=r.a.createElement("div",null,r.a.createElement($,null)),l={disabled:e.loading};return r.a.createElement("button",Object.assign({type:"submit",onClick:e.onClick,className:a.join(" ")},l),r.a.createElement("div",null,e.children)," ",e.loading?c:"")},Z=function(e){return r.a.createElement("div",{className:X.a.DeleteButton,onClick:e.onClick},e.children)},ee=function(e){var a=r.a.createElement("div",null,r.a.createElement($,null)),t={disabled:e.loading};return r.a.createElement("button",Object.assign({className:X.a.CardButton,onClick:e.onClick},t),r.a.createElement("span",null,e.children)," ",e.loading&&a)},ae=t(34),te=t(35),ne=function(e){return r.a.createElement("div",{className:U.a.Room},r.a.createElement("div",{className:U.a.RoomHeading},r.a.createElement("span",null,e.rooms?e.room_number:"".concat(e.booking_days," days booking")," "),r.a.createElement(Z,{onClick:e.onDelete},r.a.createElement(ae.a,{icon:te.a}))),r.a.createElement("div",{className:U.a.RoomContentContainer,onClick:function(){return e.onClick(e)}},e.rooms&&r.a.createElement("div",{className:[U.a.RoomContent,U.a.RoomText].join(" ")},r.a.createElement("div",{className:U.a.AttributeRow},r.a.createElement("span",{className:U.a.AttributeContainer},"STATUS:")," ",e.room_status),r.a.createElement("div",{className:U.a.AttributeRow},r.a.createElement("span",{className:U.a.AttributeContainer},"CATEGORY:")," ",e.room_category),r.a.createElement("div",{className:U.a.AttributeRow},r.a.createElement("span",{className:U.a.AttributeContainer},"PRICE:")," $",e.price)),e.bookings&&r.a.createElement("div",{className:U.a.RoomContent},r.a.createElement("div",{className:U.a.AttributeRow},r.a.createElement("span",{className:U.a.AttributeContainer},"TOTAL PRICE:"),r.a.createElement("span",{className:U.a.AttributeValue},"$",e.total_price)),r.a.createElement("div",{className:U.a.AttributeRow},r.a.createElement("span",{className:U.a.AttributeContainer},"REMAINING PRICE:"),r.a.createElement("span",{className:U.a.AttributeValue},"$",e.remaining_price)),r.a.createElement("div",{className:U.a.AttributeRow},r.a.createElement("span",{className:U.a.AttributeContainer},"BOOKING PERIOD:"),r.a.createElement("span",{className:U.a.AttributeValue},e.booking_days," days")),r.a.createElement("div",{className:U.a.AttributeRow},r.a.createElement("span",{className:U.a.AttributeContainer},"CHECK IN DATE:"),r.a.createElement("span",{className:U.a.AttributeValue},K()(e.actual_check_in_date||e.expected_check_in_date).format("MMM Do YYYY"))),r.a.createElement("div",{className:U.a.AttributeRow},r.a.createElement("span",{className:U.a.AttributeContainer},"CHECKOUT DATE:"),r.a.createElement("span",{className:U.a.AttributeValue},K()(e.actual_checkout_date||e.expected_checkout_date).format("MMM Do YYYY"))),r.a.createElement("div",{className:U.a.AttributeRow},r.a.createElement("span",{className:U.a.AttributeContainer},"CUSTOMER BOOKING STATUS:"),r.a.createElement("span",{className:U.a.AttributeValue},e.customer_booking_status)),r.a.createElement("div",{className:U.a.AttributeRow},r.a.createElement("span",{className:U.a.AttributeContainer},"CREATED ON:"),r.a.createElement("span",{className:U.a.AttributeValue},K()(e.created_at).format("MMM Do YYYY"))),r.a.createElement("div",{className:U.a.AttributeRow},r.a.createElement("span",{className:U.a.AttributeContainer},"UPDATED ON:"),r.a.createElement("span",{className:U.a.AttributeValue},K()(e.updated_at).format("MMM Do YYYY"))),r.a.createElement("div",null,r.a.createElement("span",{className:U.a.BookingStatus,style:{background:"pending"===e.booking_status.toLowerCase()?"#707070":"#50E3C2"}},e.booking_status)))))},re=t(86),oe=t.n(re),ce=t(43),le=t.n(ce);le.a.config(),le.a.config();var ie=localStorage.getItem("accessToken")||"",se=oe.a.create({baseURL:"/api",headers:{Authorization:"Bearer ".concat(ie)}}),ue=se,me=function(e){return{type:"FETCH_ROOMS",payload:e}},de=function(){return function(){var e=Object(L.a)(D.a.mark((function e(a){var t,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"BEGIN_FETCHING_ROOMS"}),e.next=4,ue.get("/room/list-rooms/");case 4:t=e.sent,n=t.data,a(me(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}()},Ee=function(e){return{type:"ADD_ROOM_DONE",payload:{data:e}}},pe=function(e){return{type:"EDIT_ROOM_DONE",payload:{data:e}}},_e=function(e,a){return{type:"DELETE_ROOM",payload:{data:a,id:e}}},fe=function(e){return{type:"ADD_ROOM_CATEGORY",payload:{data:e}}},ge=function(e){return{type:"FETCH_ROOM_CATEGORIES",payload:{data:e}}},be=function(){return function(){var e=Object(L.a)(D.a.mark((function e(a){var t,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"FETCH_ROOM_CATEGORIES_BEGIN"}),e.next=4,ue.get("/room/room-categories/");case 4:t=e.sent,n=t.data,a(ge(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:"FETCH_ROOM_CATEGORIES_FAILED",payload:{error:e.t0}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}()},ve=function(e){return{type:"EDIT_ROOM_CATEGORY",payload:{data:e}}},Oe=function(e,a){return{type:"DELETE_ROOM_CATEGORY",payload:{data:a,id:e}}},Ce=t(14),he=function(e){return r.a.createElement("div",{className:Q.a.BarSpinner},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},Ne=function(e){return r.a.createElement("div",{className:Q.a.SpinnerContainer},r.a.createElement("div",{className:Q.a.Spinner},r.a.createElement("div",null),r.a.createElement("div",null)))},je=t(87),ye=t.n(je),Te=function(e){var a=Object(n.useState)("text"),t=Object(w.a)(a,2),o=t[0],c=t[1],l={required:!1!==e.required};return r.a.createElement("input",Object.assign({type:"date"!==e.type?e.type:o,onChange:e.onChange,onBlur:function(){return"password"===e.type||"checkbox"===e.type?c(e.type):c("text")},onFocus:function(){return"date"===e.type?c("date"):c(e.type)},name:e.name,value:e.value,className:[ye.a.TextInput,e.className].join(" "),placeholder:e.placeholder},l,{checked:e.value}))},ke=t(88),Ae=t.n(ke),Ie=function(e){return r.a.createElement("select",{name:e.name,className:Ae.a.SelectInput,value:e.value,onChange:e.onChange,placeholder:e.placeholder},e.options.map((function(e){return r.a.createElement("option",{value:e.value,key:e.value},e.label)})))},Se=t(36),Re=t.n(Se),xe=function(e){return e.open?r.a.createElement("div",{className:Re.a.ModalContainer,id:"ModalContainer",onClick:function(a){"ModalContainer"===a.target.id&&e.onToggle()}},r.a.createElement("div",{className:Re.a.Modal},r.a.createElement("div",{className:Re.a.CloseButtonContainer,onClick:e.onToggle},e.title&&r.a.createElement("span",{className:Re.a.ModalTitle},e.title),r.a.createElement("span",{className:Re.a.CloseButton},"X")),e.children)):null},De=t(71),Le=t.n(De),we=function(e){return r.a.createElement(xe,{open:e.open,onToggle:e.cancel,title:"CONFIRM"},r.a.createElement("div",{className:Le.a.Message},e.children),r.a.createElement("div",{className:Le.a.ButtonGroup},r.a.createElement(J,{onClick:e.continue,red:!0},e.label||"DELETE"),r.a.createElement(J,{onClick:e.cancel},"Cancel")))},Be=t(37),Me=t.n(Be),Fe=t(53),Ge=t.n(Fe),Pe=t(143),He=t(144),Ye=function(e){return r.a.createElement(l.c,Object.assign({},e,{style:Object(d.a)({textDecoration:"none",color:"white",margin:"0px 10px"},e.style),to:e.link}),e.label)},Ue=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Me.a.NavigationContainer},r.a.createElement("div",{className:Me.a.FixedNavigation},r.a.createElement(Pe.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",fixe:"top"},r.a.createElement(Pe.a.Brand,{href:"/"},r.a.createElement("img",{src:Ge.a,alt:"",className:Me.a.Logo}),r.a.createElement("h3",{className:Me.a.LogoLabel},"SWEET LIFE HOTEL")),r.a.createElement(Pe.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(Pe.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(He.a,{className:"mr-auto"}),r.a.createElement(He.a,null,r.a.createElement(Ye,{link:"/",label:"Home"}),r.a.createElement(Ye,{link:"/dashboard/rooms",label:"Rooms"}),r.a.createElement(Ye,{link:"/booking",label:"Booking"}),r.a.createElement(Ye,{link:"/dashboard/rooms",label:"Dashboard"})))))),r.a.createElement("div",{className:Me.a.ClearNavigation}))},Ve=t(47),Ke=t.n(Ve),We=function(e){return r.a.createElement("div",{className:Ke.a.DashboardContainer},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement(Ue,null)),r.a.createElement("div",{className:Ke.a.MainPage},r.a.createElement("div",{className:Ke.a.SideNavContainer},r.a.createElement(G,null)),r.a.createElement("div",{className:Ke.a.ContentContainer},r.a.createElement("br",null),e.children))))},Xe=function(e,a){switch(a.type){case"VALUE_CHANGE":return Object(d.a)(Object(d.a)({},e),{},Object(B.a)({},a.input,a.value));default:return e}},qe=Object(Ce.b)((function(e){return{rooms:e.rooms.rooms,loading:e.rooms.loading,roomCategories:e.roomCategory.roomCategories}}),(function(e){return{fetchRooms:function(){return e(de())},updateRoom:function(a,t){return e(function(e,a){return function(){var t=Object(L.a)(D.a.mark((function t(n){var r,o,c;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:"EDIT_ROOM_START"}),r={room_number:parseInt(a.roomNumber),room_category:a.roomCategory,room_status:a.roomStatus,price:parseFloat(a.price)},t.next=5,ue.patch("/room/list-rooms/".concat(e),r);case 5:o=t.sent,c=o.data,console.log(c),n(pe(c)),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:"EDIT_ROOM_FAILED",payload:{error:t.t0}}),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(a,t))},addRoom:function(a){return e((t=a,function(){var e=Object(L.a)(D.a.mark((function e(a){var n,r,o,c,l,i,s,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,n={},r=0,o=Object.entries(t);r<o.length;r++)c=Object(w.a)(o[r],2),l=c[0],i=c[1],n[p(l)]=i;return a({type:"ADD_ROOM_START"}),e.next=6,ue.post("/room/create-room/",n);case 6:s=e.sent,u=s.data,a(Ee(u)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:"ADD_ROOM_FAILED",payload:{error:void 0}});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}()));var t},getCategories:function(){return e(be())},removeRoom:function(a){return e(function(e){return function(){var a=Object(L.a)(D.a.mark((function a(t){var n,r;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"DELETE_ROOM_BEGIN"}),a.next=4,ue.delete("/room/list-rooms/".concat(e));case 4:n=a.sent,r=n.data,t(_e(e,r)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),t({type:"DELETE_ROOM_FAILED",payload:{error:a.t0}});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a))}}}))((function(e){var a=Object(n.useState)(!1),t=Object(w.a)(a,2),o=t[0],c=t[1],l=Object(n.useState)({}),i=Object(w.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(w.a)(m,2),E=d[0],p=d[1],_=Object(n.useState)(!1),g=Object(w.a)(_,2),b=g[0],v=g[1],O=e.fetchRooms,C=e.getCategories,h=e.removeRoom;Object(n.useEffect)((function(){O(),C()}),[O,C]);var N=Object(n.useReducer)(Xe,{roomCategory:"",price:"",roomStatus:"",roomNumber:""}),j=Object(w.a)(N,2),y=j[0],T=j[1],k=function(e){if(e){u(e),p(!1);for(var a=0,t=Object.entries(e);a<t.length;a++){var n=Object(w.a)(t[a],2),r=n[0],o=n[1];console.log(f(r),"KEY"),T({type:"VALUE_CHANGE",input:f(r),value:o})}}c((function(e){return!e}))},A=Object(n.useCallback)((function(e){T({type:"VALUE_CHANGE",input:e.target.name,value:e.target.value})}),[T]),I=function(){var a=Object(L.a)(D.a.mark((function a(t){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),p(!1),a.next=4,e.updateRoom(s.id,y);case 4:c(!1);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),S=function(){var e=Object(L.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(s.id);case 2:v(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var a=Object(L.a)(D.a.mark((function a(t){var n,r,o;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),n=y.roomCategory,r=y.price,o=y.roomNumber,p(!1),a.next=5,e.addRoom({roomCategory:n,price:r,roomNumber:o});case 5:k();case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),x=r.a.createElement(Ne,null);e.loading||(x=e.rooms.map((function(e){return r.a.createElement(ne,Object.assign({onClick:function(){return k(e)},onDelete:function(){return function(e){u(e),v(!0)}(e)}},e,{key:e.room_number,rooms:!0}))})));var B=y.roomCategory,M=y.price,F=y.roomStatus,G=y.roomNumber,P=[];return e.loading||e.roomCategories.forEach((function(e){P.push({value:e.category_name,label:e.category_name})})),r.a.createElement(r.a.Fragment,null,r.a.createElement(We,null,r.a.createElement("div",{className:H.a.RoomPageMargin}),r.a.createElement("h3",{className:H.a.RoomPageHeading},"Manage hotel Rooms"),r.a.createElement(J,{onClick:function(){u({}),p(!0),k()}},"New room"),r.a.createElement("div",{className:H.a.RoomsContainer},x)),r.a.createElement(we,{open:b,cancel:function(){return v(!1)},continue:S},"Are you sure you want to delete this room?"),r.a.createElement(xe,{open:o,onToggle:k},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 offset-2"},r.a.createElement("h3",{className:H.a.EditRoomHeading},E&&"ADD A NEW  ROOM",!E&&"MANAGE ROOM ".concat(s.room_number)),!E&&r.a.createElement("form",{onSubmit:I},r.a.createElement(Ie,{options:P,value:B,onChange:A,name:"roomCategory"}),r.a.createElement(Te,{placeholder:"Room price",value:M,onChange:A,name:"price"}),r.a.createElement(Te,{placeholder:"Room number",value:G,onChange:A,name:"roomNumber"}),r.a.createElement(Ie,{options:[{value:"AVAILABLE",label:"Available"},{value:"BOOKED",label:"Booked"},{value:"IN_USE",label:"In use"}],onChange:A,value:F,name:"roomStatus"}),r.a.createElement(J,{loading:e.loading},"Save changes")),E&&r.a.createElement("form",{method:"post",onSubmit:R},r.a.createElement(Ie,{options:P,value:B,onChange:A,name:"roomCategory"}),r.a.createElement(Te,{placeholder:"Room price",value:M,onChange:A,name:"price"}),r.a.createElement(Te,{placeholder:"Room number",value:G,onChange:A,name:"roomNumber"}),r.a.createElement(J,{loading:e.loading},"Save"))))))})),Qe=t(94),$e=t.n(Qe),ze=function(e){return{type:"CREATE_BOOKING",payload:{data:e}}},Je=function(e){return{type:"FINISH_LIST_BOOKINGS",payload:{bookings:e}}},Ze=function(e){return{type:"EDIT_BOOKING",payload:{data:e}}},ea=function(e,a){return{type:"DELETE_BOOKIGN",payload:{data:a,id:e}}},aa=function(e,a){switch(a.type){case"VALUE_CHANGE":return Object(d.a)(Object(d.a)({},e),{},Object(B.a)({},a.input,a.value));default:return e}},ta=Object(Ce.b)((function(e){return{bookings:e.booking.bookings,loading:e.booking.loading,error:e.booking.error}}),(function(e){return{fetchBookings:function(){return e(function(){var e=Object(L.a)(D.a.mark((function e(a){var t,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"START_LIST_BOOKINGS"}),e.next=4,ue.get("/booking/list-bookings/");case 4:t=e.sent,n=t.data,a(Je(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:"LIST_BOOKINGS_FAIL"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}())},updateBooking:function(a,t){return e(function(e,a){return function(){var t=Object(L.a)(D.a.mark((function t(n){var r,o,c,l,i,s,u,m;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(t.prev=0,r={},o=0,c=Object.entries(a);o<c.length;o++)l=Object(w.a)(c[o],2),i=l[0],""===(s=l[1]).trim()&&null===s||(r[p(i)]=s);return r.actual_checkout_date=r.checkout_date,r.actual_check_in_date=r.check_in_date,r.paid_advance=r.additional_payment,r.booking_status="Confirmed",delete r.checkout_date,delete r.check_in_date,delete r.additional_payment,n({type:"EDIT_BOOKING_BEGIN"}),t.next=13,ue.patch("/booking/list-bookings/".concat(e),r);case 13:u=t.sent,m=u.data,n(Ze(m)),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),n({type:"EDIT_BOOKING_FAILED",payload:{error:t.t0}});case 21:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e){return t.apply(this,arguments)}}()}(a,t))},removeBooking:function(a){return e(function(e){return function(){var a=Object(L.a)(D.a.mark((function a(t){var n,r;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"DELETE_BOOKING_BEGIN"}),a.next=4,ue.delete("/booking/list-bookings/".concat(e));case 4:n=a.sent,r=n.data,t(ea(e,r)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),t({type:"DELETE_BOOKING_FAILED",payload:{error:a.t0}});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a))}}}))((function(e){var a=e.fetchBookings,t=e.removeBooking,o=Object(n.useState)(!1),c=Object(w.a)(o,2),l=c[0],i=c[1],s=Object(n.useState)(!1),u=Object(w.a)(s,2),m=u[0],d=u[1],E=Object(n.useState)(),p=Object(w.a)(E,2),_=p[0],f=p[1],g=Object(n.useState)(!1),b=Object(w.a)(g,2),v=b[0],O=b[1];Object(n.useEffect)((function(){a()}),[a]);var C=Object(n.useReducer)(aa,{additionalPayment:"",customerBookingStatus:"",checkInDate:"",checkoutDate:""}),h=Object(w.a)(C,2),N=h[0],j=h[1],y=function(e){i((function(e){return!e})),e&&(f(e.id),d(e.customer_name),j({type:"VALUE_CHANGE",input:"customerBookingStatus",value:e.customer_booking_status}),j({type:"VALUE_CHANGE",input:"checkInDate",value:e.actual_check_in_date||e.expected_check_in_date}),j({type:"VALUE_CHANGE",input:"checkoutDate",value:e.actual_checkout_date||e.expected_checkout_date}),j({type:"VALUE_CHANGE",input:"additionalPayment",value:""}))},T=function(){var e=Object(L.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(_);case 2:O(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=Object(n.useCallback)((function(e){j({type:"VALUE_CHANGE",input:e.target.name,value:e.target.value})}),[j]),A=r.a.createElement(Ne,null);e.loading||(A=e.bookings.map((function(e){return r.a.createElement(ne,Object.assign({},e,{key:e.id,bookings:!0,onClick:function(){return y(e)},onDelete:function(){return a=e.id,f(a),void O(!0);var a}}))})));var I=function(){var a=Object(L.a)(D.a.mark((function a(t){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.next=3,e.updateBooking(_,N);case 3:return a.next=5,e.fetchBookings();case 5:y();case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),S=N.checkInDate,R=N.checkoutDate,x=N.customerBookingStatus,B=N.additionalPayment;return r.a.createElement(r.a.Fragment,null,r.a.createElement(We,null,r.a.createElement("h3",{className:Q.a.PageHeading},"Available Bookings"),r.a.createElement("div",{className:$e.a.BookingContainer},A)),r.a.createElement(we,{open:v,cancel:function(){return O(!1)},continue:T},"Are you sure you want to delete this booking?"),r.a.createElement(xe,{open:l,onToggle:y},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 offset-2"},r.a.createElement("h3",{className:Q.a.PageHeading},"MANAGE BOOKING BY ",m),r.a.createElement("form",{onSubmit:I,method:"post"},r.a.createElement(Te,{placeholder:"Additional payment",value:B,name:"additionalPayment",onChange:k}),r.a.createElement(Ie,{options:[{value:"Booked",label:"Booked"},{value:"Check in",label:"Check in"},{value:"Checkout",label:"Checkout"}],value:x,onChange:k,name:"customerBookingStatus"}),r.a.createElement(Te,{placeholder:"Check in date",type:"date",value:S,onChange:k,name:"checkInDate"}),r.a.createElement(Te,{placeholder:"Checkout date",type:"date",value:R,onChange:k,name:"checkoutDate"}),r.a.createElement(J,{loading:e.loading},"Save changes"))))))})),na=t(38),ra=t.n(na),oa=t(22),ca=t.n(oa),la=function(e){return r.a.createElement("span",{className:[ca.a.Permission,e.deactivated?ca.a.Inactive:""].join(" ")},e.children)},ia=function(e){return r.a.createElement("div",{className:["col-md-3 col-sm-12",ca.a.StaffMember].join(" ")},r.a.createElement("div",{onClick:e.onClick},r.a.createElement("div",{className:ca.a.StaffAvatar},r.a.createElement("img",{src:"https://via.placeholder.com/150",alt:""})),r.a.createElement("div",{className:[ca.a.Content,e.is_active?ca.a.CardNormal:ca.a.CardInactive].join(" ")},r.a.createElement("div",{className:ca.a.AccountInfo},r.a.createElement("p",null,"Name: ",(a=e.first_name,t=e.last_name,(a+t).length>1?"".concat(a," ").concat(t):"Click to add a name")),r.a.createElement("p",null,"Email: ",e.email)),r.a.createElement("div",{className:ca.a.PermissionGroup},r.a.createElement("span",{className:ca.a.PermissionHeading},"Permissions"),e.is_admin&&r.a.createElement(la,null,"Admin"),e.is_staff&&r.a.createElement(la,null,"Staff"),e.is_landlord&&r.a.createElement(la,null,"Land Lord"),e.is_superuser&&r.a.createElement(la,null,"Super user"),e.is_active&&r.a.createElement(la,null,"Active"),!e.is_active&&r.a.createElement(la,{deactivated:!0},"Deactivated")))),r.a.createElement(J,{red:e.is_active,green:!e.is_active,onClick:e.onDeactivate},e.is_active?"Deactivate":"Activate"));var a,t},sa=function(e){return{type:"FINISH_STAFF_FETCHING",payload:{data:e}}},ua=function(e){return{type:"ADD_STAFF_MEMBER",payload:{data:e}}},ma=function(e){return{type:"EDIT_STAFF_MEMBER",payload:{data:e}}},da=function(e){return{type:"DEACTIVATE_STAFF",payload:Object(d.a)({},e)}},Ea=function(e,a){switch(a.type){case"VALUE_CHANGE":return Object(d.a)(Object(d.a)({},e),{},Object(B.a)({},a.input,a.value));default:return e}},pa=Object(Ce.b)((function(e){return{staffMembers:e.staff.staffMembers,loading:e.staff.loading,error:e.staff.error,message:e.staff.message}}),(function(e){return{loadStaffMembers:function(){return e(function(){var e=Object(L.a)(D.a.mark((function e(a){var t,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"START_STAFF_FETCHING"}),e.next=4,ue.get("/user/list/");case 4:t=e.sent,n=t.data,a(sa(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:"STAFF_FETCHIGN_FAILED",payload:{error:e.t0}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}())},addNewMember:function(a){return e((t=a,function(){var e=Object(L.a)(D.a.mark((function e(a){var n,r,o,c,l,i,s,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,a({type:"ADD_STAFF_MEMBER_BEGIN"}),n={},r=0,o=Object.entries(t);r<o.length;r++)c=Object(w.a)(o[r],2),l=c[0],i=c[1],n[p(l)]=i;return e.next=6,ue.post("/user/list/",n);case 6:s=e.sent,u=s.data,a(ua(u)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:"ADD_STAFF_MEMBER_FAILED",payload:{error:e.t0}});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}()));var t},updateMember:function(a){return e((t=a,function(){var e=Object(L.a)(D.a.mark((function e(a){var n,r,o,c,l,i,s,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,a({type:"EDIT_STAFF_MEMBER_BEGIN"}),n={},r=0,o=Object.entries(t);r<o.length;r++)c=Object(w.a)(o[r],2),l=c[0],(i=c[1])&&(n[p(l)]=i);return e.next=6,ue.patch("/user/list/".concat(t.id),n);case 6:s=e.sent,u=s.data,a(ma(u)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:"EDIT_STAFF_MEMBER_FAILED",payload:{error:e.t0}});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}()));var t},deactivateUser:function(a){return e(function(e){return function(){var a=Object(L.a)(D.a.mark((function a(t){var n,r;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"DEACTIVATE_STAFF_BEGIN"}),a.next=4,ue.delete("/user/deactivate/".concat(e));case 4:n=a.sent,r=n.data,t(da(r)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),t({type:"DEACTIVATE_STAFF_FAILED",payload:{error:a.t0}});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a))}}}))((function(e){var a=e.loadStaffMembers,t=(e.loading,e.error,Object(n.useState)(!1)),o=Object(w.a)(t,2),c=o[0],l=o[1],i=Object(n.useState)(!1),s=Object(w.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)({}),E=Object(w.a)(d,2),p=E[0],_=E[1],g=Object(n.useState)(!1),b=Object(w.a)(g,2),v=b[0],O=b[1];Object(n.useEffect)((function(){a()}),[a]);var C=Object(n.useReducer)(Ea,{firstName:"",lastName:"",email:"",password:"",isStaff:!0,username:"",isAdmin:!0}),h=Object(w.a)(C,2),N=h[0],j=h[1],y=Object(n.useCallback)((function(e){j({type:"VALUE_CHANGE",input:e.target.name,value:e.target.value})}),[j]),T=Object(n.useCallback)((function(e){j({type:"VALUE_CHANGE",input:e.target.name,value:e.target.checked})}),[j]),k=N.email,A=N.username,I=N.firstName,S=N.lastName,R=N.password,x=N.isStaff,M=N.isAdmin,F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(console.log(e),l((function(e){return!e})),e)for(var a=0,t=Object.entries(e);a<t.length;a++){var n=Object(w.a)(t[a],2),r=n[0],o=n[1];console.log(Object(B.a)({},f(r),o)),j({input:f(r),value:o,type:"VALUE_CHANGE"})}},G=function(){var a=Object(L.a)(D.a.mark((function a(t){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.next=3,e.addNewMember(N);case 3:F();case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),P=function(){var a=Object(L.a)(D.a.mark((function a(t){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.next=3,e.updateMember(N);case 3:F();case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),H=function(){var a=Object(L.a)(D.a.mark((function a(){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.updateMember({is_active:!0,id:p.id});case 2:O(!1);case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),Y=function(){var a=Object(L.a)(D.a.mark((function a(){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.deactivateUser(p.id);case 2:return a.next=4,e.loadStaffMembers();case 4:O(!1);case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),U=r.a.createElement(Ne,null);return e.loading||(U=e.staffMembers.map((function(e){return r.a.createElement(ia,Object.assign({},e,{key:e.id,onClick:function(){return function(e){m(!1),_(e),F(e)}(e)},onDeactivate:function(){return function(e){O(!0),_(e)}(e)}}))}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(We,null,r.a.createElement("h1",{className:Q.a.PageHeading},"Manage staff"),r.a.createElement(J,{onClick:function(){m(!0),F()}},"New member"),r.a.createElement("div",{className:"row"},U)),r.a.createElement(we,{open:v,continue:p.is_active?Y:H,cancel:function(){return O(!1)},label:p.is_active?"Deactivate":"Activate"},"Do you really want to"," ",p.is_active?"deactivate":"activate"," this user?"),r.a.createElement(xe,{open:c,onToggle:F},r.a.createElement("form",{onSubmit:u?G:P},r.a.createElement("div",{className:"row"},r.a.createElement("h1",{className:[Q.a.TextCenter,Q.a.PageHeading].join(" ")},u?"Add a new staff member":"Edit ".concat(p.email)),r.a.createElement("div",{className:"col-md-8 offset-2"},r.a.createElement(Te,{placeholder:"First name",name:"firstName",onChange:y,value:I}),r.a.createElement(Te,{placeholder:"Last name",name:"lastName",onChange:y,value:S}),r.a.createElement(Te,{placeholder:"Email",type:"email",name:"email",onChange:y,value:k}),r.a.createElement(Te,{placeholder:"Username",name:"username",onChange:y,value:A}),r.a.createElement(Te,{placeholder:"Password",type:"password",name:"password",onChange:y,value:R}),!u&&r.a.createElement("div",{className:ra.a.UserPermissions},r.a.createElement("div",null,r.a.createElement("label",{className:ra.a.CheckboxLabel},"Is Staff:",r.a.createElement(Te,{type:"checkbox",name:"isStaff",onChange:T,value:x,className:ra.a.Checkbox}))),r.a.createElement("div",null,r.a.createElement("label",{className:ra.a.CheckboxLabel},"Is Admin:",r.a.createElement(Te,{type:"checkbox",name:"isAdmin",onChange:T,value:M,className:ra.a.Checkbox})))),r.a.createElement("div",{className:Q.a.TextCenter},r.a.createElement(J,{loading:e.loading},"Save")))))))})),_a=t(30),fa=t.n(_a),ga=Object(Ce.b)((function(e){return{categories:e.roomCategory.roomCategories,loading:e.roomCategory.loading,error:e.roomCategory.error}}),(function(e){return{updateCategory:function(a,t){return e(function(e,a){return function(){var t=Object(L.a)(D.a.mark((function t(n){var r,o,c,l,i,s,u,m;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(t.prev=0,r={},console.log(e,"ID"),o=0,c=Object.entries(a);o<c.length;o++)l=Object(w.a)(c[o],2),i=l[0],null===(s=l[1])&&""===s.trim()||(r[p(i)]=s);return n({type:"EDIT_ROOM_CATEGORY_BEGIN"}),t.next=7,ue.patch("/room/room-categories/".concat(e),r);case 7:u=t.sent,m=u.data,n(ve(m)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:"EDIT_ROOM_CATEGORY_FAILED",payload:{error:t.t0}});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(a,t))},loadCategories:function(){return e(be())},createCategory:function(a){return e((t=a,function(){var e=Object(L.a)(D.a.mark((function e(a){var n,r,o,c,l,i,s,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,n={},r=0,o=Object.entries(t);r<o.length;r++)c=Object(w.a)(o[r],2),l=c[0],i=c[1],n[p(l)]=i;return a({type:"ADD_ROOM_CATEGORY_BEGIN"}),e.next=6,ue.post("/room/room-categories/",n);case 6:s=e.sent,u=s.data,a(fe(u)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),a({type:"ADD_ROOM_CATEGORY_FAILED",payload:{error:e.t0}});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}()));var t},deleteCategory:function(a){return e(function(e){return function(){var a=Object(L.a)(D.a.mark((function a(t){var n,r;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"DELETE_ROOM_CATEGORY_BEGIN"}),a.next=4,ue.delete("/room/room-categories/".concat(e));case 4:n=a.sent,r=n.data,t(Oe(e,r)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),t({type:"DELETE_ROOM_CATEGORY_FAILED",payload:{error:a.t0}});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a))}}}))((function(e){var a=Object(n.useState)(""),t=Object(w.a)(a,2),o=t[0],c=t[1],l=Object(n.useState)(!1),i=Object(w.a)(l,2),s=i[0],u=i[1],m=e.loadCategories,d=e.createCategory,E=e.updateCategory,p=Object(n.useState)(!1),_=Object(w.a)(p,2),f=_[0],g=_[1],b=Object(n.useState)(null),v=Object(w.a)(b,2),O=v[0],C=v[1],h=Object(n.useState)(!1),N=Object(w.a)(h,2),j=N[0],y=N[1];Object(n.useEffect)((function(){m()}),[m]);var T=e.categories,k=r.a.createElement(Ne,null),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(g(!0),c(e.category_name)),u((function(e){return!e}))},I=function(e){C(e.id),A(e)},S=function(){var a=Object(L.a)(D.a.mark((function a(t){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.deleteCategory(t);case 2:y(!1);case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),R=function(e){C(e),y((function(e){return!e}))},x=function(){var e=Object(L.a)(D.a.mark((function e(a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),f){e.next=6;break}return e.next=4,d({categoryName:o});case 4:e.next=8;break;case 6:return e.next=8,E(O,{categoryName:o});case 8:A();case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return e.loading||(k=T.map((function(e){return r.a.createElement("div",{className:fa.a.CategoryCard,key:e.id},r.a.createElement("div",{className:fa.a.CardHeader},r.a.createElement("h3",{className:fa.a.CategoryName,onClick:function(){return I(e)}},e.category_name),r.a.createElement(Z,{onClick:function(){return R(e.id)}},r.a.createElement(ae.a,{icon:te.a}))),r.a.createElement("div",{className:fa.a.RoomDetails,onClick:function(){return I(e)}},r.a.createElement("h1",{className:fa.a.RoomCount},e.rooms.length),r.a.createElement("h1",{className:fa.a.RoomTitle},1!==e.rooms.length?"ROOMS":"ROOM")))}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(We,null,r.a.createElement("h1",{className:Q.a.PageHeading}," Room categories"),r.a.createElement(J,{onClick:function(){u(!0),g(!1)}},"CREATE CATEGORY"),r.a.createElement("div",{className:"row"},k)),r.a.createElement(we,{open:j,continue:function(){return S(O)},cancel:R},"Are you sure you want to delete this category?"),r.a.createElement(xe,{open:s,onToggle:A},r.a.createElement("form",{onSubmit:x,className:fa.a.CategoryForm},r.a.createElement("h3",{className:Q.a.PageHeading},f?"CHANGE CATEGORY NAME":"CREATE ROOM CATEGORY"),r.a.createElement(Te,{placeholder:"Category name",name:"categoryName",value:o,onChange:function(e){c(e.target.value)},type:"text"}),r.a.createElement(J,{loading:e.loading},"Save"))))})),ba=t(95),va=t.n(ba),Oa=t(32),Ca=t.n(Oa),ha=t(39),Na=t.n(ha),ja=t(61),ya=t.n(ja),Ta=function(e){var a=e.value;return e.label.includes("_at")&&(a=K()(e.value).format("MMM Do YYYY")),"boolean"===typeof e.value&&(a=e.value?"Yes":"No"),r.a.createElement("div",{className:ya.a.AttributeRow},r.a.createElement("span",{className:ya.a.AttributeLabel},e.label.split("_").join(" ")),r.a.createElement("span",{className:ya.a.AttributeValue},a))},ka=function(e){var a=Object(d.a)({},e.value),t="";return delete a.bookings,delete a.client_expenses,t=a?Object.entries(a).map((function(e){var a=Object(w.a)(e,2),t=a[0],n=a[1];if("id"!==t){var o="";return o="boolean"===typeof n||n?n:"Not provided",r.a.createElement(Ta,{label:t,value:o,key:t})}})):"No values provided",r.a.createElement("div",{className:Na.a.CardContainer,onClick:e.onClick},r.a.createElement("div",{className:Na.a.CardHeader},r.a.createElement("h4",{className:Na.a.CardTitle},e.title||"--- No title ---"),r.a.createElement(Z,{onClick:function(){return e.onDelete(a.id)}},r.a.createElement(ae.a,{icon:te.a}))),r.a.createElement("div",{className:Na.a.CardContent},t),r.a.createElement("div",{className:Na.a.ButtonContainer},e.children))},Aa=function(e,a){return{type:"FETCH_HOTEL_CLIENTS",payload:{data:e,id:a}}},Ia=function(e,a){return{type:"UPDATE_HOTEL_CLIENT",payload:{data:e,id:a}}},Sa=function(e,a){return{type:"DELETE_HOTEL_CLIENT",payload:{data:e,id:a}}},Ra=function(e){return{type:"FETCH_CLIENT_EXPENSES",payload:{data:e}}},xa=function(e){return{type:"ADD_CLIENT_EXPENSE",payload:{data:e}}},Da=function(e){return{type:"UPDATE_CLIENT_EXPENSE",payload:{data:e}}},La=function(e,a){return{type:"DELETE_CLIENT_EXPENSE",payload:{data:e,id:a}}},wa=t(62),Ba=t.n(wa),Ma=t(63),Fa=t.n(Ma),Ga=function(e){var a=1;return r.a.createElement("tr",{className:Fa.a.Tr},e.values.map((function(t,n){var o=t;return"boolean"===typeof t?o=o?"Yes":"No":"".concat(t).split("-").length>2&&(o=K()(t).format("MMM Do YYYY")),e.fieldNames&&"is_paid"===e.fieldNames[n]?r.a.createElement("td",{key:a++},r.a.createElement(ee,{onClick:e.onFieldClick},"make paid")):"th"===e.type?r.a.createElement("th",{className:Fa.a.Th,key:a++},t.split("_").join(" ")):r.a.createElement("td",{className:Fa.a.Td,key:a++},o)})))},Pa=function(e){var a=[];if(e.values){var t=e.values[e.values.length-1];t&&(delete t.id,a=Object.keys(t))}var n=r.a.createElement(Ga,{values:["The client has no unpaid bills"],key:"sdfkd"}),o=null;if(e.total[0]>0&&(o=r.a.createElement(Ga,{values:["TOTAL","$".concat(e.total[0])],type:"th"})),e.values.length){var c=1;n=e.values.map((function(a){var t=Object(d.a)({},a);return delete t.id,r.a.createElement(Ga,{fieldNames:Object.keys(t),values:Object.values(t),key:c++,onFieldClick:function(){return e.onClick(a.id)}})}))}return r.a.createElement("div",{ref:e.reference,className:Ba.a.TableContainer},r.a.createElement("h1",{className:Ba.a.Caption},e.tableCaption),r.a.createElement("table",{className:Ba.a.Table},r.a.createElement("thead",null,r.a.createElement(Ga,{values:a,type:"th"})),r.a.createElement("tbody",null,n,r.a.createElement(Ga,{values:["Room Bills",e.total[1]]}),o,e.children)))},Ha=function(e,a){switch(a.type){case"VALUE_CHANGE":return Object(d.a)(Object(d.a)({},e),{},Object(B.a)({},a.input,a.value));default:return e}},Ya=Object(Ce.b)((function(e){return{clients:e.hotelClient.hotelClients,loading:e.hotelClient.loading,error:e.hotelClient.error,expenses:e.clientExpenses.expenses,loadingExpenses:e.clientExpenses.loading,expenseError:e.clientExpenses.error}}),(function(e){return{loadClients:function(){return e(function(){var e=Object(L.a)(D.a.mark((function e(a){var t,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"FETCH_HOTEL_CLIENTS_BEGIN"}),e.next=4,ue.get("/hotel-clients/clients/");case 4:t=e.sent,n=t.data,a(Aa(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:"FETCH_HOTEL_CLIENTS_FAILED",paylod:{error:e.t0}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}())},updateClient:function(a){return e((t=a,function(){var e=Object(L.a)(D.a.mark((function e(a){var n,r,o,c,l,i,s,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,n={},r=0,o=Object.entries(t);r<o.length;r++)c=Object(w.a)(o[r],2),l=c[0],((i=c[1])||"boolean"===typeof i)&&(n[p(l)]=i);return a({type:"UPDATE_HOTEL_CLIENT_BEGIN"}),e.next=6,ue.patch("/hotel-clients/clients/".concat(n.id),n);case 6:s=e.sent,u=s.data,a(Ia(u,n.id)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:"UPDATE_HOTEL_CLIENT_FAILED",payload:{error:e.t0}});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}()));var t},deleteClient:function(a){return e(function(e){return function(){var a=Object(L.a)(D.a.mark((function a(t){var n,r;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"DELETE_HOTEL_CLIENT_BEGIN"}),a.next=4,ue.delete("/hotel-clients/clients/".concat(e));case 4:n=a.sent,r=n.data,t(Sa(r,e)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),t({type:"DELE_HOTEL_CLIENT_FAILED",payload:{error:a.t0}});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a))},loadClientExpenses:function(a){return e((t=a,function(){var e=Object(L.a)(D.a.mark((function e(a){var n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"FETCH_CLIENT_EXPENSES_BEGIN"}),e.next=4,ue.get("/hotel-clients/clients/".concat(t,"/expenses/"));case 4:n=e.sent,r=n.data,a(Ra(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:"FETCH_CLIENT_EXPENSES_FAILED",payload:{error:e.t0}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}()));var t},addExpenses:function(a,t){return e((n=a,r=t,function(){var e=Object(L.a)(D.a.mark((function e(a){var t,o,c,l,i,s,u,m;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,a({type:"ADD_CLIENT_EXPENSE_BEGIN"}),t={},o=0,c=Object.entries(r);o<c.length;o++)l=Object(w.a)(c[o],2),i=l[0],(s=l[1])&&(t[p(i)]=s);return e.next=6,ue.post("/hotel-clients/clients/".concat(n,"/expenses/"),t);case 6:u=e.sent,m=u.data,a(xa(m)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:"ADD_CLIENT_EXPENSE_FAILED",payload:{error:e.t0}});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}()));var n,r},updateExpense:function(a){return e((t=a,function(){var e=Object(L.a)(D.a.mark((function e(a){var n,r,o,c,l,i,s,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,n={},r=0,o=Object.entries(t);r<o.length;r++)c=Object(w.a)(o[r],2),l=c[0],(i=c[1])&&(n[p(l)]=i);return delete n.id,a({type:"UPDATE_CLIENT_EXPENSE_BEGIN"}),e.next=7,ue.patch("/hotel-clients/expenses/".concat(t.id),n);case 7:s=e.sent,u=s.data,a(Da(u)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),a({type:"UDPATE_CLIENT_EXPENSE_FAILED",payload:{error:e.t0}});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(a){return e.apply(this,arguments)}}()));var t},deleteExpense:function(a){return e((t=a,function(){var e=Object(L.a)(D.a.mark((function e(a){var n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"DELETE_CLIENT_EXPENSE_BEGIN"}),e.next=4,ue.delete("/hotel-clients/expenses/".concat(t));case 4:n=e.sent,r=n.data,a(La(r,t)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:"DELETE_CLIENT_EXPENSE_FAILED",payload:{error:e.t0}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}()));var t}}}))((function(e){var a=Object(n.useState)(!1),t=Object(w.a)(a,2),o=t[0],c=t[1],l=Object(n.useState)(!1),i=Object(w.a)(l,2),s=i[0],u=i[1],m=Object(n.useRef)(null),d=Object(n.useState)({}),E=Object(w.a)(d,2),p=E[0],_=E[1],g=Object(n.useState)({}),b=Object(w.a)(g,2),v=b[0],O=b[1],C=Object(n.useReducer)(Ha,{email:"",firstName:"",lastName:"",isCheckedIn:!0,identificationNumber:"",phoneNumber:""}),h=Object(w.a)(C,2),N=h[0],j=h[1],y=Object(n.useReducer)(Ha,{name:"",quantity:0,price:0}),T=Object(w.a)(y,2),k=T[0],A=T[1],I=Object(n.useCallback)((function(e){A({type:"VALUE_CHANGE",input:e.target.name,value:e.target.value})}),[A]),S=Object(n.useCallback)((function(e){j({type:"VALUE_CHANGE",input:e.target.name,value:e.target.value})}),[j]),R=e.loadClients,x=e.updateClient,B=e.loadClientExpenses,M=e.addExpenses,F=e.updateExpense,G=e.deleteClient;Object(n.useEffect)((function(){R()}),[R]);var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(c((function(e){return!e})),e)for(var a=0,t=Object.entries(e);a<t.length;a++){var n=Object(w.a)(t[a],2),r=n[0],o=n[1];j({type:"VALUE_CHANGE",input:f(r),value:o})}},H=function(){var a=Object(L.a)(D.a.mark((function a(){var t,n,r,o=arguments;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("number"!==typeof(t=o.length>0&&void 0!==o[0]?o[0]:null)){a.next=8;break}return a.next=4,B(t);case 4:n=e.clients.find((function(e){return e.id===t})),r={},n&&(O(n),r=n.bookings?n.bookings[0]:{}),_(r);case 8:u((function(e){return!e}));case 9:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),Y=Object(n.useCallback)((function(e){j({type:"VALUE_CHANGE",input:e.target.name,value:e.target.checked})}),[j]),U=function(){var e=Object(L.a)(D.a.mark((function e(a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({id:a,is_paid:!0});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),V=function(){var e=Object(L.a)(D.a.mark((function e(a){var t,n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,M(v.id,k);case 3:for(t=0,n=Object.keys(k);t<n.length;t++)r=n[t],A({type:"VALUE_CHANGE",input:r,value:""});case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),K=function(){var e=Object(L.a)(D.a.mark((function e(a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(a);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),W=function(){var e=Object(L.a)(D.a.mark((function e(a){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,x(N);case 3:P();case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),X=r.a.createElement(Ne,null);e.loading||(X=e.clients.map((function(a){return r.a.createElement(ka,{title:a.first_name,value:a,key:a.created_at,onDelete:K},r.a.createElement(ee,{onClick:function(){return P(a)}},"Edit"),r.a.createElement(ee,{onClick:function(){return H(a.id)},loading:e.loadingExpenses},"Show Bills"))})));var q=N.email,$=N.firstName,z=N.lastName,Z=N.phoneNumber,ae=N.identificationNumber,te=N.isCheckedIn,ne=k.name,re=k.quantity,oe=k.price,ce=null,le=[];return!e.loadingExpenses&&e.expenses&&(le=(le=e.expenses).map((function(e){return e.client="".concat(v.first_name," ").concat(v.last_name),e})),ce=r.a.createElement(Pa,{reference:m,values:le,tableCaption:"Client consumption record",total:function(e){var a=e.reduce((function(e,a){return e+=a.quantity*a.price}),0),t=function(e){if(e){var a=e.actual_check_in_date||e.expected_check_in_date,t=new Date-new Date(a);t=Math.abs(t)/1e3;var n=Math.floor(t/86400);return Math.ceil(e.total_price/e.booking_days)*n-e.paid_advance}return 0}(p),n=a;return t&&(n+=t),[n,t]}(e.expenses),onClick:U})),r.a.createElement(r.a.Fragment,null,r.a.createElement(We,null,r.a.createElement("h3",{className:Q.a.PageHeading},"Hotel clients"),r.a.createElement("div",{className:Ca.a.ClientsContainer},X)),r.a.createElement(xe,{open:o,onToggle:P,title:"Client info"},r.a.createElement("form",{method:"POST",onSubmit:W},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 offset-2"},r.a.createElement("h1",{className:Q.a.PageHeading},"Update customer info"),r.a.createElement(Te,{placeholder:"Email",onChange:S,type:"email",name:"email",value:q}),r.a.createElement(Te,{placeholder:"First name",onChange:S,type:"text",name:"firstName",value:$}),r.a.createElement(Te,{placeholder:"Last name",onChange:S,type:"text",name:"lastName",value:z}),r.a.createElement(Te,{placeholder:"Phone number",onChange:S,type:"text",name:"phoneNumber",value:Z}),r.a.createElement(Te,{placeholder:"Passport/ ID",onChange:S,type:"text",name:"identificationNumber",value:ae}),r.a.createElement("div",null,r.a.createElement("label",{className:Ca.a.CheckboxLabel},"Checked in:",r.a.createElement(Te,{type:"checkbox",name:"isCheckedIn",onChange:Y,value:te,className:Ca.a.Checkbox,required:!1}))),r.a.createElement(J,{loading:e.loading},"Save changes"))))),r.a.createElement(xe,{open:s,onToggle:H,title:"Client transaction details"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 col-sm-12"},e.loadingExpenses&&r.a.createElement(Ne,null),ce,r.a.createElement("div",{className:Ca.a.BillForm},r.a.createElement("span",null,"New record"),r.a.createElement("form",{method:"POST",onSubmit:V},r.a.createElement(Te,{name:"name",placeholder:"Item name",type:"text",onChange:I,value:ne}),r.a.createElement(Te,{name:"price",placeholder:"Price per unit",type:"number",onChange:I,value:oe}),r.a.createElement(Te,{name:"quantity",placeholder:"Quantity",type:"number",onChange:I,value:re}),r.a.createElement("div",{className:Ca.a.ButtonContainer},r.a.createElement(J,null,"Add")))),r.a.createElement("div",{className:Ca.a.PrintButtonContainer},r.a.createElement(va.a,{trigger:function(){return r.a.createElement(ee,null,"Print bill")},content:function(){return m.current}}))))))})),Ua=function(e){return r.a.createElement(i.d,null,r.a.createElement(R,Object.assign({path:"/dashboard/rooms",component:qe},e)),r.a.createElement(R,Object.assign({path:"/dashboard/bookings",component:ta},e)),r.a.createElement(R,Object.assign({path:"/dashboard/manage-staff",component:pa},e)),r.a.createElement(R,Object.assign({path:"/dashboard/room-categories",component:ga},e)),r.a.createElement(R,Object.assign({path:"/dashboard/hotel-clients",component:Ya},e)))},Va=t(48),Ka=t.n(Va),Wa=function(e){return r.a.createElement("div",{className:Ka.a.Footer},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col col-sm-12 col-md-3"},r.a.createElement("h4",null,"Contact"),r.a.createElement("p",null,"Email: ask-info@sweetlife.com"),r.a.createElement("p",null,"Tel: +250787740316")),r.a.createElement("div",{className:"col col-sm-12 col-md-3"},r.a.createElement("h4",null,"Services"),r.a.createElement("p",null,"VIP Rooms"),r.a.createElement("p",null,"Swimming pool"),r.a.createElement("p",null,"Gym"),r.a.createElement("p",null,"Bar & Restaurant")),r.a.createElement("div",{className:"col col-sm-12 col-md-3"},r.a.createElement("h4",null,"About"),r.a.createElement("p",null,"Sweet life hope was first opened on 12th , August 2020, in Kigali,Rwanda. KN7 ave")),r.a.createElement("div",{className:"col col-sm-12 col-md-2 offset-1"},r.a.createElement("img",{className:Ka.a.FooterLogo,src:Ge.a,alt:""})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:Ka.a.BottomFooter},r.a.createElement("p",{className:Ka.a.TextCenter},"Copy right 2020 SweetLife Hotel")))))},Xa=t(20),qa=t.n(Xa),Qa=t(24),$a=t.n(Qa),za=function(e){var a="Gold"!==e.type?$a.a.HeaderSingle:$a.a.HeaderGold;return r.a.createElement("div",{className:$a.a.RoomCategoryCard},r.a.createElement("div",{className:[$a.a.Header,a].join(" ")},e.type),r.a.createElement("div",{className:$a.a.RoomDescription},r.a.createElement("div",{className:$a.a.Description},e.description),r.a.createElement("div",{className:$a.a.Price},e.price||"Negotiable")),r.a.createElement("div",{className:$a.a.RoomImageContainer},r.a.createElement("img",{src:e.image,alt:"",className:$a.a.RoomImage})))},Ja=t(96),Za=t.n(Ja),et=t(97),at=t.n(et),tt=t(98),nt=t.n(tt),rt=t(99),ot=t.n(rt),ct=t(100),lt=t.n(ct),it=t(72),st=t.n(it),ut=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:st.a.PageContainer},r.a.createElement("div",{className:st.a.MainContainer},r.a.createElement(Ue,null),e.children),r.a.createElement(Wa,null)))},mt=function(e){return r.a.createElement(ut,null,r.a.createElement("div",{className:qa.a.HomePage},r.a.createElement("div",{className:qa.a.WelcomeSection}),r.a.createElement("div",{className:qa.a.ContentContainer},r.a.createElement("h3",{className:[Q.a.TextCenter,Q.a.TextYellow,qa.a.WelcomeHeading].join(" ")},"Welcome to the SweetLife Hotel"),r.a.createElement("div",{className:qa.a.IntroContainer},r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum"),r.a.createElement("p",{className:Q.a.ButtonContainer},r.a.createElement(z,{label:"Book Now",path:"/booking"})))),r.a.createElement("div",{className:qa.a.RoomSection},r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:[Q.a.TextCenter,qa.a.RoomHeading].join(" ")},"ROOM CATEGORIES"),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 col-md-4"},r.a.createElement(za,{type:"single",image:nt.a,description:"A perfect room for one person",price:"$350"})),r.a.createElement("div",{className:"col-sm-12 col-md-4"},r.a.createElement(za,{type:"Twin",image:lt.a,description:"A Switable room with two bed",price:"$420"})),r.a.createElement("div",{className:"col-sm-12 col-md-4"},r.a.createElement(za,{type:"Gold",image:ot.a,description:"A perfect room for a King/Queen",price:"$500"}))))),r.a.createElement("div",{className:qa.a.AccessibilitySection},r.a.createElement("div",{className:"container "+qa.a.AccessibilityContainer},r.a.createElement("h3",{className:[Q.a.TextCenter,qa.a.RoomHeading].join(" ")},"ACCESSIBILITY"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 col-md-6"},r.a.createElement("div",{className:qa.a.SwimmingPoolSection},r.a.createElement("h4",{className:[Q.a.TextCenter,Q.a.TextWhite].join(" ")},"24/7 Access to the Swimming pool"),r.a.createElement("img",{src:at.a,alt:"Swimming pool"}))),r.a.createElement("div",{className:"col col-sm-12 col-md-6"},r.a.createElement("div",{className:qa.a.GymSection},r.a.createElement("h4",{className:[Q.a.TextCenter,Q.a.TextWhite].join(" ")},"24/7 access to the Gym"),r.a.createElement("img",{src:Za.a,alt:"Gym"}))))))))},dt=t(55),Et=t(56),pt=t(59),_t=t(57),ft=t(33),gt=t.n(ft),bt=function(e){Object(pt.a)(t,e);var a=Object(_t.a)(t);function t(e){var n;return Object(dt.a)(this,t),(n=a.call(this,e)).onChange=function(e){var a=e.target;n.setState({form:Object(d.a)(Object(d.a)({},n.state.form),{},Object(B.a)({},a.name,a.value))})},n.handleSubmit=function(){var e=Object(L.a)(D.a.mark((function e(a){var t,r,o,c,l;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t=n.state.form,r=n.props.makeBooking,e.next=5,r(t);case 5:for(o=0,c=Object.keys(n.state);o<c.length;o++)l=c[o],n.setState(Object(B.a)({},l,""));n.props.error||n.setState({isSuccessfull:!0});case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.state={form:{customerEmail:"",customerName:"",checkoutDate:"",checkInDate:"",roomType:101},isSuccessfull:!1},n}return Object(Et.a)(t,[{key:"componentDidMount",value:function(){var e=Object(L.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.fetchRooms();case 2:this.setState({rooms:this.props.rooms});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,a=e.customerEmail,t=e.customerName,n=e.checkInDate,o=e.checkoutDate,c=e.roomType,l=r.a.createElement("div",{className:gt.a.RoomLoader},r.a.createElement("span",null,"Select room")," ",r.a.createElement(he,null));if(!this.props.loading){var i=this.props.rooms.map((function(e){return{value:e.room_number,label:e.room_number+""}}));l=r.a.createElement(Ie,{name:"roomType",placeholder:"Room type",options:i,value:c,onChange:this.onChange})}var s=r.a.createElement("div",{className:["container",gt.a.BookingPage].join(" ")},r.a.createElement("h3",{className:[Q.a.PageHeading,gt.a.h3].join(" ")},"BOOK YOUR FAVORITE ROOM"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3  col-sm-12"}),r.a.createElement("div",{className:"col col-sm-12   col-md-6"},r.a.createElement("form",{className:gt.a.Form,onSubmit:this.handleSubmit},r.a.createElement(Te,{placeholder:"Full name",name:"customerName",value:t,onChange:this.onChange}),r.a.createElement(Te,{placeholder:"E-mail",name:"customerEmail",value:a,onChange:this.onChange}),r.a.createElement(Te,{placeholder:"Expected check in date",type:"date",name:"checkInDate",value:n,onChange:this.onChange}),r.a.createElement(Te,{placeholder:"Expected checkout date",type:"date",name:"checkoutDate",value:o,onChange:this.onChange}),l,r.a.createElement("p",{className:Q.a.TextCenter},r.a.createElement(J,{loading:this.props.rooms.length&&this.props.loading},"Submit Booking"))))),r.a.createElement("br",null));return this.state.isSuccessfull&&(s=r.a.createElement("div",{className:gt.a.SuccessContainer},r.a.createElement("br",null),r.a.createElement("h3",{className:Q.a.PageHeading},"You Booking is is successfull"),r.a.createElement("div",{className:gt.a.AdditionalMessage},"Kindly make at least a ",r.a.createElement("span",null,"$100")," payment to confirm your booking"),r.a.createElement("br",null),r.a.createElement(J,null,"Pay $100 now"))),r.a.createElement(ut,null,s)}}]),t}(n.Component),vt=Object(Ce.b)((function(e){return{createdBooking:e.booking,rooms:e.rooms.rooms,loading:e.rooms.loading,error:e.booking.error}}),(function(e){return{makeBooking:function(a){return e((t=a,function(){var e=Object(L.a)(D.a.mark((function e(a){var n,r,o,c,l,i,s,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,a({type:"CREATE_BOOKIGN_BEGIN"}),n={},r=0,o=Object.entries(t);r<o.length;r++)c=Object(w.a)(o[r],2),l=c[0],i=c[1],n[p(l)]=i;return n.expected_checkout_date=n.checkout_date,n.expected_check_in_date=n.check_in_date,n.room=n.room_type,console.log(t),delete n.checkout_date,delete n.check_in_date,delete n.room_type,e.next=13,ue.post("/booking/create-booking/",n);case 13:s=e.sent,u=s.data,a(ze(u)),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),a({type:"CREATE_BOOKING_FAILED",payload:{error:e.t0}});case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(a){return e.apply(this,arguments)}}()));var t},fetchRooms:function(){return e(de())}}}))(bt),Ot=t(64),Ct=t.n(Ot),ht=function(e){Object(pt.a)(t,e);var a=Object(_t.a)(t);function t(e){var n;return Object(dt.a)(this,t),(n=a.call(this,e)).componentDidMount=Object(L.a)(D.a.mark((function e(){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=localStorage.getItem("accessToken"))&&S()(a).exp>(new Date).getTime()/1e3)){e.next=5;break}return e.next=4,n.props.autoLogin();case 4:return e.abrupt("return",n.props.history.replace("/dashboard/rooms"));case 5:case"end":return e.stop()}}),e)}))),n.handleSubmit=function(){var e=Object(L.a)(D.a.mark((function e(a){var t,r,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t=n.state.formData,r=t.email,o=t.password,e.next=4,n.props.login({email:r,password:o});case 4:window.location.reload();case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.handleChange=function(e){var a=e.target;n.setState({formData:Object(d.a)(Object(d.a)({},n.state.formData),{},Object(B.a)({},a.name,a.value))})},n.state={formData:{email:"",password:""},formErrors:{email:"",password:""},formIsValid:!1},n}return Object(Et.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(null!==e.accessToken)return this.props.history.replace("/dashboard/rooms")}},{key:"render",value:function(){var e=this.state.formData,a=e.email,t=e.password,n=this.props.error?r.a.createElement("div",{className:"alert alert-danger"},this.props.error.message):"";return r.a.createElement(ut,null,r.a.createElement("div",{className:Ct.a.LoginPage},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:Ct.a.PageMargin}),r.a.createElement("div",{className:"col-md-3   col-sm-12"}),r.a.createElement("div",{className:"col col-md-6 col-sm-12"},n,r.a.createElement("form",{className:Ct.a.LoginForm,method:"post",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement(Te,{placeholder:"Email address",required:!0,name:"email",value:a,onChange:this.handleChange}),r.a.createElement(Te,{placeholder:"Password",type:"password",required:!0,name:"password",value:t,onChange:this.handleChange})),r.a.createElement(J,{loading:this.props.loading},"LOGIN")))))))}}]),t}(n.Component),Nt=Object(Ce.b)((function(e){return{loading:e.login.loading,error:e.login.error,accessToken:e.login.accessToken}}),(function(e){return{login:function(a){return e((t=a,function(){var e=Object(L.a)(D.a.mark((function e(a){var n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,a({type:"START_LOGIN"}),e.next=5,ue.post("/user/login/",t);case 5:n=e.sent,r=n.data,a((o=r,localStorage.setItem("accessToken",o.access),localStorage.setItem("refreshToken",o.refresh),{payload:Object(d.a)({},o),type:"FINISH_LOGIN"})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),a({type:"LOGIN_ERROR",payload:{error:e.t0}});case 13:case"end":return e.stop()}var o}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}()));var t},autoLogin:function(){return e(function(){var e=Object(L.a)(D.a.mark((function e(a){var t,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a({type:"START_AUTO_LOGIN"}),t=localStorage.getItem("accessToken"),n=localStorage.getItem("refreshToken"),a((r={access:t,refresh:n},{type:"FINISH_AUTO_LOGIN",payload:Object(d.a)({},r)}))}catch(o){a({type:"AUTO_LOGIN_FAILED"})}case 1:case"end":return e.stop()}var r}),e)})));return function(a){return e.apply(this,arguments)}}())}}}))(ht),jt=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/booking",component:vt}),r.a.createElement(i.b,{path:"/login",component:Nt}),r.a.createElement(i.b,{path:"/",component:mt,exact:!0})))};le.a.config();var yt=function(e){return r.a.createElement(l.a,null,r.a.createElement(Ce.a,{store:k},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/dashboard",component:Ua}),r.a.createElement(i.b,{path:"",component:jt}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(yt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[102,1,2]]]);
//# sourceMappingURL=main.93265b2e.chunk.js.map